# 基于帧处理的视频自动打码软件

## 前端与客户端部分

本软件前端（客户端部分）需要为后端的实体识别和视频处理模型提供必要的输入，包括以下内容：

- 视频源文件
- 接收后端的实体识别结果，并以用户友好的方式呈现给用户
- 将用户选择的实体传回后端，以便后端进行帧处理和合成
- 提供基于同一模型的多种功能入口（包括打码、风格化处理和抽帧压缩）

### 前端界面实现

本应用的界面使用React框架实现，大体数据流如下图所示：

<img src="https://picgo-1308055782.cos.ap-chengdu.myqcloud.com/picgo-new/202302281955799.png" alt="image-20230228195515675" style="zoom: 67%;" />

由于React组件优秀的重组特性，大部分组件都可以有效重用，这有效提高了开发效率。

除此之外，由于React框架是纯前端框架，因此搭配不同的后端（此处特指编译后端），可以实现**一次开发，多端部署**。但需要注意的是，移动端不能本地运行实体识别服务，因此可能需要传到服务器处理。

### PC客户端框架实现

本应用的主要平台是Windows PC平台，因此采用基于.NET的客户端方案。

我们在.NET环境中托管Python虚拟机来运行后端，并通过一层C#语言中间层来沟通前后端。

上述实现方法的优势有以下几点：

- C#作为一门成熟的Windows平台静态类型语言，具有优秀的客户端开发和数据处理能力
- .NET环境可以高效地实现Python虚拟机和Web Runtime的互通
- 相比内嵌`CefLib`库，.NET中运行Web Runtime可以调用系统的Edge WebRuntime，获得更好的性能表现和更小的体积